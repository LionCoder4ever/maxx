{
  "permissions": {
    "allow": [
      "Bash(tree:*)",
      "Bash(find:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat(设计): 完善 HTTP 代理服务器和 Adapter 设计\n\n- 更新 design.md: 完整记录核心流程、组件设计、失败重试、配置查找逻辑\n- 新增 RetryConfig: 可复用的重试配置，支持退避策略\n- 新增 RoutingStrategy: 可扩展的路由策略，支持全局和 Project 级别\n- Route 新增 RetryConfigID 和 ModelMapping\n- Provider 配置新增 ModelMapping\n- Model 三层设计: RequestModel → MappedModel → ResponseModel\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(go mod init:*)",
      "Bash(go build:*)",
      "mcp__codex-as-mcp__spawn_agents_parallel",
      "Bash(go mod tidy:*)",
      "Bash(timeout 3:*)",
      "Bash(cat:*)",
      "Bash(git mv:*)",
      "Bash(npm run build:*)",
      "Bash(wc:*)",
      "Bash(sqlite3:*)",
      "Bash(curl:*)",
      "Bash(xargs cat:*)",
      "Bash(mkdir:*)",
      "Bash(go test:*)",
      "Bash(go run -)",
      "Bash(go run -exec '' - <<'EOF'\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/Bowl42/maxx-next/internal/pricing\"\n)\n\nfunc main() {\n\tpt := pricing.DefaultPriceTable()\n\tmodels := []string{\n\t\t\"claude-haiku-4-5\",\n\t\t\"claude-haiku-4-5-20251001\",\n\t\t\"claude-sonnet-4-5-20250514\",\n\t}\n\tfor _, m := range models {\n\t\tp := pt.Get(m)\n\t\tif p != nil {\n\t\t\tfmt.Printf(\"%s → matched %s (input: %d)\\n\", m, p.ModelID, p.InputPriceMicro)\n\t\t} else {\n\t\t\tfmt.Printf(\"%s → NOT FOUND\\n\", m)\n\t\t}\n\t}\n}\nEOF)"
    ]
  }
}
